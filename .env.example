# ===========================================
# BACKEND ENVIRONMENT VARIABLES TEMPLATE
# ===========================================
# Copy this file to backend/.env and fill in your actual values
# NEVER commit .env to version control

# ===========================================
# CORE APPLICATION CONFIGURATION
# ===========================================

# Application Environment
NODE_ENV=development

# Server Port
PORT=3001

# API Base URL
API_BASE_URL=http://localhost:3001

# ===========================================
# JWT CONFIGURATION (REQUIRED)
# ===========================================

# JWT Secret Key (CRITICAL - use strong random string)
JWT_SECRET=your-super-secure-jwt-secret-key-change-in-production

# JWT Token Expiration
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ===========================================
# SUPABASE CONFIGURATION (REQUIRED)
# ===========================================

# Supabase Project URL
SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Service Role Key (Server-side only)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-role-key-here

# Supabase Anonymous Key (for validation)
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-anon-key-here

# ===========================================
# AI SERVICES CONFIGURATION (REQUIRED)
# ===========================================

# Anthropic Claude API Key
ANTHROPIC_API_KEY=sk-ant-api03-your-anthropic-key-here

# ===========================================
# AIRTABLE CONFIGURATION (REQUIRED)
# ===========================================

# Airtable API Key
AIRTABLE_API_KEY=pat.your-airtable-key-here

# Airtable Base ID
AIRTABLE_BASE_ID=your-base-id-here

# Airtable Table Names
AIRTABLE_CUSTOMER_ASSETS_TABLE=Customer Assets
AIRTABLE_USER_PROGRESS_TABLE=User Progress

# ===========================================
# WEBHOOK CONFIGURATION (OPTIONAL)
# ===========================================

# Make.com Webhooks
MAKE_ICP_WEBHOOK=https://hook.eu1.make.com/your-icp-webhook
MAKE_COST_CALCULATOR_WEBHOOK=https://hook.eu1.make.com/your-cost-calculator-webhook
MAKE_BUSINESS_CASE_WEBHOOK=https://hook.eu1.make.com/your-business-case-webhook

# ===========================================
# SECURITY CONFIGURATION
# ===========================================

# CORS Origin (Frontend URL)
# Supports comma-separated list for multiple environments:
# - Development: http://localhost:3000
# - Production: https://your-production-frontend.netlify.app
# Example: CORS_ORIGIN=http://localhost:3000,https://production-frontend.netlify.app
CORS_ORIGIN=http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_STRICT_MAX=20

# ===========================================
# LOGGING CONFIGURATION
# ===========================================

# Log Level
LOG_LEVEL=info

# Log File Path
LOG_FILE=logs/hs-platform-api.log

# Log Format
LOG_FORMAT=combined

# ===========================================
# DEVELOPMENT & TESTING
# ===========================================

# Enable Test Endpoints
ENABLE_TEST_ENDPOINTS=true

# Test Customer ID
TEST_CUSTOMER_ID=CUST_0001

# ===========================================
# EXTERNAL SERVICES (OPTIONAL)
# ===========================================

# Google Workspace Integration
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Stripe Integration
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# ===========================================
# DEPLOYMENT CONFIGURATION
# ===========================================

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# Database URL (if using external database)
DATABASE_URL=postgresql://username:password@localhost:5432/hs_platform

# Redis URL (if using Redis for caching)
REDIS_URL=redis://localhost:6379

# ===========================================
# NOTES
# ===========================================
#
# 1. JWT_SECRET must be a strong, random string
# 2. SUPABASE_SERVICE_ROLE_KEY has admin privileges - keep secure
# 3. ANTHROPIC_API_KEY is required for AI features
# 4. AIRTABLE_API_KEY and AIRTABLE_BASE_ID are required for data storage
# 5. Test your configuration with the health endpoint: GET /health
# 6. Verify Supabase connection with the test endpoints
#
# ===========================================
